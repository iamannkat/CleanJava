<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <title>Results</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  	<style>  
  	
  		.text-wrap{
  		 color: #DC9DF7;
  		}
  	
  	    .btn-primary {
		  --bs-btn-font-weight: 600;
		  --bs-btn-color: var(--bs-white);
		  --bs-btn-bg: var(--bd-violet);
		  --bs-btn-border-color: var(--bd-violet);
		  --bs-btn-border-radius: .5rem;
		  --bs-btn-hover-color: var(--bs-white);
		  --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
		  --bs-btn-active-color: var(--bs-btn-hover-color);
		  --bs-btn-active-bg: #{shade-color($bd-violet, 20%)};
		  --bs-btn-active-border-color: #{shade-color($bd-violet, 20%)};
		} 
		
		.btn-lg{
		  margin-right: 10px;
		}	
  	
  	    @media screen and (max-width: auto) {
	      .sidenav {
	        height: auto;
	        padding: 20px;
	      }
	      .row.content {height:auto;} 
	    }
    
	    .my_scroll_div{
		    overflow-y: auto;
		    max-height: 100px;
		}
		
		/* Set height of the grid so .sidenav can be 100% (adjust as needed) */
	    .row.content {height: 700px}
	    
	    /* Set gray background color and 100% height */
	    .sidenav {
	      padding-top: 20px;
	      background-color: #FC5C3A;
	      height: 100%;
	    }
	    
	    .col-sm-3 {
            overflow-y: scroll;
            max-height: 700px;
	    }
	    
  	</style>
    <link href="/CleanJava/src/main/resources/static/css/prism.css" rel="stylesheet" />
  </head>
  
  
  
  <body >
  <script src="/CleanJava/src/main/resources/static/js/prism.js"></script>
    <!-- Example Code -->
    
    <nav class="navbar navbar-expand-lg bg-light">
      <div class="container-fluid">
        <a class="navbar-brand">CleanJava</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" th:href="@{/home}">Home</a>
            </li>
            <li class="nav-item">          
	            
	           <!-- <a th:if="${user}" th:href="@{/download}" class="btn btn-secondary btn-lg">
	            Download Results
	            </a> -->
	        <div th:if="${user}" >
		        <form th:action="@{/download}" method="post" enctype="multipart/form-data" >
					<input type="submit" value="Download Results" class="btn btn-secondary btn-lg" />
			    </form>
		     </div>   
		     
            </li>
           
            <li class="nav-item">
         		<button onclick="history.back()" type="button" class="btn btn-secondary btn-lg">Go Back</button>
            </li>
           
          </ul>
 
        <ul class="navbar-nav ms-auto">
        
          <div th:if="${user}" >
           <form th:action="@{/logout}" method="post">
				<input type="submit" value="Logout" class="btn btn-outline-primary mt-2" />
		   </form>
	      </div>
	      
		   <li class="nav-item">
		 
		        <a class="nav-link" th:text="${username}" data-bs-target="#myModal" data-bs-toggle="modal"></a>
		    </li>
		    
		</ul>
		
        </div>
      </div>
    </nav>
    
    <!-- End Example Code -->
 <div class="container-fluid">    
  <div class="row content"> <!-- text-center" -->
    <div class="col-sm-5 sidenav" style="overflow-y:scroll;background-color:#1B2631;color:white"> 
 
	    <br>
    	  <h5 align="center" class="card-title">Source Code</h5>
          <hr>
		  <pre>   
	      <code id="source" class="language-java">
	       <p th:text="${source}"></p>
	      </code>	
	      </pre>	     
	    </div>
	    
	    <div class="col-sm-3" align="center" style="overflow-y:scroll;">
	   
	      <h2><strong The Metrics></strong></h2>
	     
	      <br>
	      <div class="card" style="width: 18rem;">
			  <div class="card-body">
			    <h5 class="card-title">Boolean Expression Complexity</h5>
			    <p class="card-text" style="background-color: #DC9DF7; width: 6rem;">
			    <strong th:text="${booleanExpressionComplexity}" ></strong></p>
			   
			   	<div class="accordion accordion-flush" id="accordionFlushExample">
				  <div class="accordion-item">
				    <h2 class="accordion-header" id="flush-headingOne">
				      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
				      data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
				        Read More
				      </button>
				    </h2>
				    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" 
				    data-bs-parent="#accordionFlushExample">
				      <div class="accordion-body">This metric gives you the max number of boolean operators in an 
				      expression. Having a small Boolean Expression Complexity makes debugging and testing easier.</div>
				    </div>
				  </div>
				</div>		 
			   
			   
			  </div>
			</div>
			
	      <br>
	      
	      <div class="card" style="width: 18rem;">
			  <div class="card-body">
			    <h5 class="card-title">Class Complexity</h5>
			    <p class="card-text" style="background-color: #DC9DF7; width: 6rem;">
			    <strong th:text="${classComplexity}" ></strong></p>
			   
			   
			    <div class="accordion accordion-flush" id="accordionFlushExample">
				  <div class="accordion-item">
				    <h2 class="accordion-header" id="flush-headingOne">
				      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
				      data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseOne">
				        Read More
				      </button>
				    </h2>
				    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" 
				    data-bs-parent="#accordionFlushExample">
				      <div class="accordion-body">This metric checks the number of the different types used by the class. A lower class complexity indicates that 
				      less amount of maintenance is required for the program. The amount of types are counted in local variables, imports and implements. Some types however such as {} are scluded from the count.</div>
				    </div>
				  </div>
				 </div>
				 
				 
			  </div>
			</div>
	
	      <br>
		 
		 <div class="card" style="width: 18rem;">
			  <div class="card-body">
			    <h5 class="card-title">Cyclomatic Complexity</h5>

			    <p  class="card-text" style="background-color: #DC9DF7; width: 6rem;">
			    <strong th:text="${cyclomaticComplexity}" ></strong></p>

		
				<div class="accordion accordion-flush" id="accordionFlushExample">
				  <div class="accordion-item">
				    <h2 class="accordion-header" id="flush-headingOne">
				      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
				      data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseOne">
				        Read More
				      </button>
				    </h2>
				    <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" 
				    data-bs-parent="#accordionFlushExample">
				      <div class="accordion-body">This metric measures the minimum number of possible paths in the code. 
				      The fewer paths in the code the fewer tests are required. according to the checkstyle tool
				       By pure theory level 1-4 is considered easy to test, 5-7 OK, 8-10 consider re-factoring to 
				       ease testing, and 11+ re-factor now as testing will be painful.</div>
				    </div>
				  </div>
				  </div>
			    
			  </div>
			</div>
	
	      <br>
	      
	  	  <div class="card" style="width: 18rem;">
			  <div class="card-body">
			    <h5 class="card-title">LCOM</h5>
			    
			    <p class="card-text" style="background-color: #DC9DF7; width: 6rem;">
			    <strong th:text="${lcomMetric}" ></strong></p>
			    
			
			    <div class="accordion accordion-flush" id="accordionFlushExample">
				  <div class="accordion-item">
				    <h2 class="accordion-header" id="flush-headingOne">
				      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
				      data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseOne">
				        Read More
				      </button>
				    </h2>
				    <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" 
				    data-bs-parent="#accordionFlushExample">
				      <div class="accordion-body">Placeholder content for this accordion, which is intended to
				       demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
				    </div>
				  </div>
				 </div>
			
			
			  </div>
			</div>
	
	      <br>
		
		
	  </div>
	  
	  
	  <div class="col-sm-4 sidenav" style="overflow-y:scroll;">
		<tr th:each="conventionError : ${conventionErrors}">
		
		<br>
	    <div class="card border-danger mb-3">
		  <div class="card-header">
		    ConventionError
		  </div>
		  <div class="card-body">
		    <blockquote class="blockquote mb-0">
		    <pre>
		    <p><strong th:text="${conventionError}"></strong></p>
		    </pre>
		    </blockquote>
		  </div>
		</div>
		
		</tr>
			
		</div>
	  </div>
    </div>

	<footer class="container-fluid text-center">
		<p>Thesis Project - Anna Aikaterini Tsialiou - 2023</p>
	</footer>
</body>
</html>