<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>CleanJava Source Check</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
   
  <style>
  
    body {
  	  font-family: "Courier", Courier, monospace;
    }
   
    
    .btn-primary {
	  --bs-btn-font-weight: 600;
	  --bs-btn-color: var(--bs-white);
	  --bs-btn-bg: var(--bd-violet);
	  --bs-btn-border-color: var(--bd-violet);
	  --bs-btn-border-radius: .5rem;
	  --bs-btn-hover-color: var(--bs-white);
	  --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
	  --bs-btn-active-color: var(--bs-btn-hover-color);
	  --bs-btn-active-bg: #{shade-color($bd-violet, 20%)};
	  --bs-btn-active-border-color: #{shade-color($bd-violet, 20%)};
	}
	    
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
      background-color: #330A4D;
    }
    
    .navbar-brand{
    	color: white;
    }
    
    .nav-link{
        color: white;  
    }
    
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 700px}
    
    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #DC9DF7;
      height: 100%;
    }
    
    .mb-0{
    	color: #555;
    	font-family: "Courier", Courier, monospace;
    	font-size: 50px
    }
    
    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 20px;
      }
      .row.content {height:auto;} 
    }
    
    .my_scroll_div{
	    overflow-y: auto;
	    max-height: 100px;
    }
    
    .scroll {
	    max-height: 100px;
	    overflow-y: auto;
	}
	
    .col-sm-6{
	    overflow-y: scroll;
	    max-height: 700px;
    }
    
  </style>
  <link href="/CleanJava/src/main/resources/static/css/prism.css" rel="stylesheet" />
</head>
<body>
    <script src="/CleanJava/src/main/resources/static/js/prism.js"></script>
<!-- ------------------------------------------------------------------------------------------- -->
        
      <script type="text/javascript">
     	 function showInputText(){
	      document.getElementById('file').addEventListener('change',function(){
	          var file_reader=new FileReader();
	          file_reader.onload=function(){
	              document.getElementById('source').textContent=file_reader.result;
	          }
	          file_reader.readAsText(this.files[0]);
	      })
     	 }
	     	
	     	function showAlert() {
	     	    alert("Please Select a Java file!");
	     	}
	     
     	
     </script>
     
      
<!-- ------------------------------------------------------------------------------------------- -->



<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand">CleanJava</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" th:href="@{/home}">Home</a>
        </li>     
      </ul>
      
      <ul class="navbar-nav" >	      

			 <li class="nav-item dropdown">
	          <a class="nav-link dropdown-toggle" th:text="${username}" role="button" data-bs-toggle="dropdown" aria-expanded="false">
	            
	          </a>
	          <ul class="dropdown-menu">
	            <li><a class="dropdown-item" th:href="@{/logout}">logout</a></li>
	            <li><a class="dropdown-item" th:href="@{/deleteAccount}"
	             onclick="if (!(confirm('Are you sure you want to delete your CleanJava account?'))) return false">
	             Delete Account</a></li>
	          </ul>
	        </li>
	        <br>
	   
		</ul>	   
    </div>
  </div>
</nav>
  
 
<div class="container-fluid">    
  <div class="row content">
    <div class="col-sm-3 sidenav" align="center" style="overflow-y:scroll;">
    
   <div class="card" >
	  <div class="card-header">
	    Default Settings
	    
	  </div>
	  <ul class="list-group list-group-flush">
	  	<label for="default user settings">Method Length</label>
	    <li class="list-group-item"><span th:text="${defaultMethodlength}"></span></li>
	  	<label for="default user settings">Constructor Length</label>
	    <li class="list-group-item"><span th:text="${defaultConstructorlength}"></span></li>
	    <label for="default user settings">Characters Per Line</label>
	    <li class="list-group-item"><span th:text="${defaultCharactersPerLine}"></span></li>
	    <label for="default user settings">Number Of Parameters</label>
	    <li class="list-group-item"><span th:text="${defaultNumberOfParameters}"></span></li>
	    <label for="default user settings">Lines Per File</label>
	    <li class="list-group-item"><span th:text="${defaultLinesPerFile}"></span></li>
	    <label for="default user settings">Variable Declarations Per Line</label>
	    <li class="list-group-item"><span th:text="${defaultDecrationsPerLine}"></span></li>
	    <label for="default user settings">Number Of For Statements</label>
	    <li class="list-group-item"><span th:text="${defaulForStatements}"></span></li>
	    <label for="default user settings">Number Of Methods</label>
	    <li class="list-group-item"><span th:text="${defaultNumberOfMethods}"></span></li>
	    <label for="default user settings">Number Of Fields</label>
	    <li class="list-group-item"><span th:text="${defaultNumberOfFields}"></span></li>
	  </ul>
	
	  
	</div>
	<br>
	
	<div class="card">
	<div class="card-header">
	    Create New Setting
	    
	  </div>
	  <div class="card-body">
	    <form th:action="@{/saveNewSetting}" 
	     th:object="${theNewSetting}" class="form-horizontal"  method="post" enctype="multipart/form-data">	    
	          						
           <div class="form-group">
             <label for="costum user settings">Method Length</label>
             <input class="form-control" th:field="*{methodlength}" type="number"> 
           </div>
           <div class="form-group">
             <label for="costum user settings">Constructor Length</label>
             <input class="form-control" th:field="*{constructorlength}" type="number"> 
           </div>    
           
           <div class="form-group">
             <label for="costum user settings">Number Of Parameters</label>
             <input class="form-control" th:field="*{numberOfParameters}" type="number"> 
           </div>
           
           <div class="form-group">
             <label for="costum user settings">Characters Per Line</label>
             <input class="form-control" th:field="*{charactersPerLine}" type="number"> 
           </div>
           
           <div class="form-group">
             <label for="costum user settings">Lines Per File</label>
             <input class="form-control" th:field="*{linesPerFile}" type="number"> 
           </div>
       
           <br>
   		   
   		   <button class="btn btn-success" type="submit">Save</button>
                      
        </form>
        <span th:if="${message != null}" th:text="${message}"></span>
        
	  </div>
    </div>
    <br>
	
	
     <!-- ------------------------------------------------------------------------------------------- -->
     
         <hr>
         <h3>Some information about each parameter</h3>

		 <div class="accordion" id="accordionExample">
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="headingOne">
		      <button class="accordion-button" type="button" data-bs-toggle="collapse" 
		      data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
		       <strong> Method Length </strong>	
		      </button>
		    </h2>
		    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
		     data-bs-parent="#accordionExample">
		      <div class="accordion-body">
		        <strong>This parameter specifies how many lines 
		        of code are allowed in one single methods of the program. </strong> 
		      </div>
		    </div>
		  </div>
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="headingTwo">
		      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
		      data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
		        <strong>Constructor Length</strong>
		      </button>
		    </h2>
		    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
		     data-bs-parent="#accordionExample">
		      <div class="accordion-body">
		        <strong>This parameter specifies how many lines of code are allowed
		        in the constructor's body. </strong>
		      </div>
		    </div>
		  </div>
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="headingThree">
		      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
		      data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
		        <strong>Number Of Parameters</strong>
		      </button>
		    </h2>
		    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
		     data-bs-parent="#accordionExample">
		      <div class="accordion-body">
		        <strong>This parameter specifies the number of parameters that is
		        allowed for a method to have. For example,
		         the method getPayCheck(int employeeId, String role) has two parameters.</strong>
		      </div>
		    </div>
		  </div>
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="headingFour">
		      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
		      data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
		        <strong>Characters Per Line</strong>
		      </button>
		    </h2>
		    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
		     data-bs-parent="#accordionExample">
		      <div class="accordion-body">
		        <strong>This parameter specifies how many characters are allowed in  single 
		        line of code.</strong>
		      </div>
		    </div>
		  </div>
		  
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="headingFive">
		      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
		      data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
		        <strong>Lines Per File</strong>
		      </button>
		    </h2>
		    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive"
		     data-bs-parent="#accordionExample">
		      <div class="accordion-body">
		        <strong>This parameter specifies the maximum number of line that
		        a java file can have. </strong>
		      </div>
		    </div>
		  </div>
		</div>     

      
<!-- ------------------------------------------------------------------------------------------- -->
    
      <br>
      <div class="d-grid gap-2 col-6 mx-auto">
      
      </div>
    
 <!-- ------------------------------------------------------------------------------------------- -->
      
 
    </div>
 
    <div class="col-sm-6 bg-primary-subtle border
     border-primary-subtle rounded-3"  style="overflow-y:scroll;background-color:#1B2631;color:white">      
            <br>
		    <h5 align="center" class="card-title">Source Code</h5>
        	<hr>
        	
		  	<pre>    
		      <code id="source" class="language-java"></code>	
		    </pre>
      
    </div>
 <!-- ------------------------------------------------------------------------------------------- -->

	    
    <div class="col-sm-3 sidenav" align="center" style="overflow-y:scroll;">
      <h3>Load Source</h3>  
	    <form th:action="@{/checkCode}" 
		   class="form-horizontal"  method="post" enctype="multipart/form-data">	    
		          			         
           <div class="form-group">
               <input onclick="showInputText()" class="form-control form-control-lg"
                th:name="inputCode" id="file" accept=".java" type="file"/>       
           </div>
           
           <br>    
            <div>
			<div th:if="${file_error}" class="alert alert-danger col-xs-offset-1 col-xs-10">
				<span th:text="${file_error}"></span>
			</div>
	        <div th:if="${file_error}" class="alert alert-danger col-xs-offset-1 col-xs-10">
	            Invalid username and password.
	        </div>
			</div>

      <hr>
<!-- ------------------------------------------------------------------------------------------- -->
       <h3>Your Settings</h3>
			 	  
       <div class="accordion accordion-flush" id="accordionFlushExample">
		
		 <span th:if="${userSettings.size == 0}">No settings yet!</span>
		  
		  <tr th:each="setting : *{userSettings}">
		  
		  <div class="accordion-item">
		    <h2 class="accordion-header" id="flush-headingThree">
		      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
		        <strong> Setting ID: <span th:text="${setting.getSetting_id()}" th:value="${setting.getSetting_id()}"></span></strong>
		      </button>
		    </h2>
			    <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
			      <div class="accordion-body">			      
			      	
		            <input type="hidden" th:name="setting.setting_id" th:value="${setting.getSetting_id()}"/>
		 
				 	<div class="form-group">
		             <label for="costum user settings">Constructor Length</label>
		
		          	<input th:name="setting.constructorlength" th:value="${setting.getConstructorlength()}" class="form-control" type=number disabled/>
		          
		           </div> 
		           
		           	<div class="form-group">
		             <label for="costum user settings">Method Length</label>
		             <input th:name="|setting.methodlength|" th:value="${setting.getMethodlength()}" class="form-control" type=number disabled/>
		          
		           </div> 
		           
		           <div class="form-group">
		             <label for="costum user settings">Number Of Parameters</label>
		             <input th:name="|setting.numberOfParameters|" th:value="${setting.getNumberOfParameters()}" class="form-control" type=number disabled/>
		           
		           </div> 
		           
		           
		           <div class="form-group">
		             <label for="costum user settings">Characters Per Line</label>
		             <input th:name="|setting.charactersPerLine|" th:value="${setting.getCharactersPerLine()}" class="form-control" type=number disabled  />
		           
		           </div> 
		           
		           <div class="form-group">
		             <label for="costum user settings">Lines Per File</label>
		             <input th:name="|setting.linesPerFile|" th:value="${setting.getLinesPerFile()}" class="form-control" type=number disabled/>
		      
		           </div> 		           

	 
           <br>          
		   <span th:if="${message != null}" th:text="${message}"></span>
  
	   
			<button th:name="settingId" th:value="${setting.getSetting_id()}"
			class="btn btn-primary" type="submit">Check</button>
			
		   
			<a
			th:href="@{/deleteSetting(settingId = ${setting.getSetting_id()})}"
			th:name="settingId" th:value="${setting.getSetting_id()}"
			 onclick="if (!(confirm('Are you sure you want to delete this setting?'))) return false"
			class="btn btn-danger" type="submit">Delete</a>
			
		      </div>
		    </div>
		  </div>
		  </tr>
		</div>   
		 </form>
<!-- ------------------------------------------------------------------------------------------- -->   
      
    </div>
  </div>
</div>

<footer class="container-fluid text-center">
  <p>Thesis Project - Anna Aikaterini Tsialiou - 2023</p>
</footer>

</body>
</html>
